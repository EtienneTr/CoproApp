{% extends "@App/base.html.twig" %}

{% block appbundle_content %}
    <div class="row">
        {# #}
        <div class="col-lg-12">
            <h1 class="page-header">Détail charge {{ charge.id }} </h1>

            à payer avant le {{ charge.dueOn|date('d/m/Y à H:i:s') }}
            <br>
            Montant total : {{ charge.amount }}€
        </div>
        <!-- /.col-lg-12 -->
    </div>


    <div class="col-lg-9">

        {#  #}
        <div class="panel-body">

            <div class="mesage-container">
                {{ charge.title }}
                   <br/><br/>

            </div>


            <table class="table">
                <thead>
                    <tr>
                        <th>Propriétaire</th>
                        <th>Montant</th>
                        <th>Status</th>
                        <th>Date paiement</th>
                    </tr>
                </thead>
                <tbody>
                {% for payment in charge.payments %}
                    <tr>
                        <td>{{ payment.owner.username }}</td>
                        <td>{{ payment.amount }}</td>
                        {% if not payment.paid %}
                            <td class="warning">Non payé</td>
                        {% else %}
                            <td class="success">Payé</td>
                        {% endif %}

                        <td>{% if payment.paymentDate %} {{ payment.paymentDate|date('d/m/Y à H:i:s') }} {% endif %}</td>
                    </tr>
                {% endfor %}
                    </tbody>
            </table>
            
        </div>

        

    </div>
{% endblock appbundle_content %}